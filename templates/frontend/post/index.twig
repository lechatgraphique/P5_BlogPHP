{% extends 'layouts/default.twig' %}

{% block title %}
    <title>Blog PHP : Liste des articles</title>
{% endblock %}

{% block content %}

    <div class="container mt-5 mb-4">
        <h3 class="mb-2 text-center display-4 font-weight-bold">Tout les articles</h3>
        <div class="mb-5 text-center section-intro">Le meilleur du développement web</div>
        <div class="row">
            {% for post in posts %}
            <div class="col-md-4 mb-5">
                <img class="card-img-top img-crop-thumb rounded" src="/uploads/images/{{ post.image }}" alt="{{ post.image }}">
            </div>
            <div class="col-md-8">
                <div class="card-body">
                    <a href="articles/{{ post.slug }}-{{ post.id }}">
                        <h4 class="card-title text-theme-primary">
                            {{ post.title }}
                            {% if post.category %}
                                <span class="badge badge-secondary bg-theme-primary">{{ post.category.title }}</span>
                            {% endif %}
                        </h4>
                    </a>
                    <p class="lead">{{ post.description | truncate(200) }}</p>

                    <p class="lead">
                        Publié par <b>{{ post.author.firstName }} {{ post.author.lastName }}</b>
                        <br>
                        <small>
                            <i class="far fa-calendar-alt"></i> {{ post.createdAt | dateFR | capitalize }} |
                            <i class="far fa-comments"></i> {{ post.comments | length }}
                        </small>
                    </p>
                </div>
            </div>
            {% endfor %}
        </div>
        {{ pagination | raw }}
    </div>

{% endblock %}

